(function(){"use strict";angular.module("clientApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","angular-momentjs","angularMoment","angularCharts","ui","vr.directives.wordCloud"]).config(["$routeProvider","$httpProvider",function(a,b){return b.defaults.useXDomain=!0,delete b.defaults.headers.common["X-Requested-With"],a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/about/:projectId",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/facts",{templateUrl:"views/facts.html",controller:"FactsCtrl"}).when("/wcloud",{templateUrl:"views/wcloud.html",controller:"WcloudCtrl"}).otherwise({redirectTo:"/"})}])}).call(this),function(){"use strict";angular.module("clientApp").controller("MainCtrl",["$scope","globalService","homeService","stampService","socialAnalyticService","$moment","amMoment","$rootScope",function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p;return a.dataTable=[],a.myData=[],a.sticky="sticky",a.anyData=!1,a.activePage=1,a.trenLinkPr=[],a.limitLink=5,a.prabowoStats={},a.hattaStats={},a.radioModelPr="Prabowo",a.praHattaStats=a.prabowoStats,a.twitterIcon="icon/twitter.png",a.facebookIcon="icon/facebook.png",a.newsIcon="icon/news.png",a.tumblrIcon="icon/tumblr.png",a.pathIcon="icon/path.png",a.youtubeIcon="icon/youtube.png",a.googleplus="icon/googleplus.png",a.instagramIcon="icon/instagram.png",a.prabowoProfPic="icon/prabowo.png",a.hattaProfPic="icon/hatta.png",a.black="icon/black.png",a.activatePage=function(b){return b!==a.activePage?(a.activePage=b,h.$broadcast("changePage")):void 0},a.switchStats=function(b){return b!==a.radioModelPr&&(a.radioModelPr=b),a.praHattaStats="Prabowo"===b?a.prabowoStats:a.hattaStats},a.seeLink=function(){return a.limitLink=10===a.limitLink?5:10},a.chartType="line",a.chartConfig={title:"",tooltips:!0,labels:!1,legend:{display:!1,position:"left"},colors:["#3399ff"],innerRadius:0,lineLegend:"lineEnd"},a.chartConfigJk={title:"",tooltips:!0,labels:!1,legend:{display:!1,position:"left"},colors:["#3399ff"],innerRadius:0,lineLegend:"lineEnd"},l=new Date,k=f(l),j=f(l.setDate(l.getDate()-5)),k=g.applyTimezone(k).format("YYYY-MM-DD"),j=g.applyTimezone(j).format("YYYY-MM-DD"),i=function(a){var b;return null==a||"object"!=typeof a?a:a instanceof Date?new Date(a.getTime()):(a instanceof RegExp&&(b="",null!=a.global&&(b+="g"),null!=a.ignoreCase&&(b+="i"),null!=a.multiline&&(b+="m"),null!=a.sticky&&(b+="y")),new RegExp(a.source,b))},o=function(){return c.get().then(function(){return function(b){var d,e,h,j,k,l,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U;for(b.length>0&&(a.anyData=!0),a.homeData=b,a.tweet=[],t=[],u=[],a.twitPersonPr={},a.twitPersonJk={},d=[],O=b[0].topLinks,j=y=0,C=O.length;C>y;j=y+=1){for(k=O[j],null!=k.linkUrl?(o=k.linkUrl,v=o.match(/(?:https?:\/\/)?(?:www\.)?(.*?)\//),a.homeData[0].topLinks[j].urlDomain=v[v.length-1],a.homeData[0].topLinks[j].icon=n(a.homeData[0].topLinks[j].urlDomain)):d.push(j),""===k.linkTitle&&(k.linkTitle=a.homeData[0].topLinks[j].urlDomain),s=[],a.homeData[0].topLinks[j].graph={},P=k.timeSeries,z=0,D=P.length;D>z;z++)h=P[z],s.push({x:h.timebucket,y:[h.count]});a.homeData[0].topLinks[j].graph.series=[""],s.length<=1&&s.push({x:s[0].x+1,y:s[0].y}),s=s.reverse(),a.homeData[0].topLinks[j].chartConfig=i(a.chartConfig),a.homeData[0].topLinks[j].graph.data=s,a.homeData[0].topLinks[j].chartConfig.colors=m(s)}for(A=0,E=d.length;E>A;A++)p=d[A],console.log(p),a.homeData[0].topLinks.splice(p,1);for(a.trenLinkPrs=a.homeData[0].topLinks,Q=b[0].hotTweets,j=B=0,F=Q.length;F>B;j=B+=1){for(k=Q[j],e=[],a.homeData[0].hotTweets[j].graph={},R=k.timeSeries,K=0,G=R.length;G>K;K+=1)h=R[K],e.push({x:h.timebucket,y:[h.count]});e.length<=1&&e.push({x:e[0].x+1,y:e[0].y}),e=e.reverse(),a.homeData[0].hotTweets[j].graph.series=[""],a.homeData[0].hotTweets[j].graph.data=e,a.homeData[0].hotTweets[j].chartConfig=i(a.chartConfig),a.homeData[0].hotTweets[j].chartConfig.colors=m(e),window.jsonpCallback=function(b){return a.tweet.push(b.html)},c.getStatusTwitter(k.tweetId)}for(S=b[0].numTweets,L=0,H=S.length;H>L;L+=1)h=S[L],q={},w=g.preprocessDate(h.timebucket,""),r=f(w),q.x=g.applyTimezone(r).format("HH:mm"),x=[],x.push(h.count),q.y=x,q.label="test",q.tooltip="",t.push(q);for(a.twitPersonPr.series=[""],t.length>8&&(t=t.slice(0,7)),t=t.reverse(),a.twitPersonPr.data=t,T=b[1].numTweets,M=0,I=T.length;I>M;M+=1)h=T[M],w=g.preprocessDate(h.timebucket,""),r=f(w),u.push({x:g.applyTimezone(r).format("HH:mm"),y:[h.count]});for(a.twitPersonJk.series=[""],u.length>7&&(u=u.slice(0,7)),u=u.reverse(),a.twitPersonJk.data=u,a.trenTwFirstPr=a.homeData[0].topTwId.slice(0,a.homeData[0].topTwId.length/4),a.trenTwSecondPr=a.homeData[0].topTwId.slice(a.homeData[0].topTwId.length/4,a.homeData[0].topTwId.length/2),a.trenWordFirstPr=a.homeData[0].topWords.slice(0,a.homeData[0].topWords.length/4),a.trenWordSecondPr=a.homeData[0].topWords.slice(a.homeData[0].topWords.length/4,a.homeData[0].topWords.length/2),a.trenWordRestPr=a.homeData[0].topWords.slice(a.homeData[0].topWords.length/2),a.trenLinkPr=a.homeData[0].topLinks,a.trenTwFirstJk=a.homeData[1].topTwId.slice(0,a.homeData[1].topTwId.length/4),a.trenTwSecondJk=a.homeData[1].topTwId.slice(a.homeData[1].topTwId.length/4,a.homeData[0].topTwId.length/2),a.trenWordFirstJk=a.homeData[1].topWords.slice(0,a.homeData[1].topWords.length/4),a.trenWordSecondJk=a.homeData[1].topWords.slice(a.homeData[1].topWords.length/4,a.homeData[1].topWords.length/2),a.trenWordRestJk=a.homeData[1].topWords.slice(a.homeData[1].topWords.length/2),j=0,U=b[1].topLinks,N=0,J=U.length;J>N;N+=1)k=U[N],o=k.key,l=o.match(/(?:https?:\/\/)?(?:www\.)?(.*?)\//),a.homeData[1].topLinks[j].urlDomain=l[l.length-1],a.homeData[1].topLinks[j].icon=n(l[l.length-1]),j++;return a.homeData[1].topLinks.length>1&&(a.trenLinkFirstJk=a.homeData[1].topLinks[0]),a.homeData[1].topLinks.length>2&&(a.trenLinkSecondJk=a.homeData[1].topLinks[1]),a.homeData[1].topLinks.length>10?a.trenLinkRestJk=a.homeData[1].topLinks.slice(2,10):void 0}}(this))},p=function(){return e.getStats("156691421",j,k).then(function(){return function(b){var c,d,e,h,i,j;a.hattaStats=b,e=[],j=a.hattaStats.statistic;for(c in j)i=j[c],h=g.preprocessDate(c,""),d=f(h),e.push({x:g.applyTimezone(d).format("DD/MM"),y:[parseInt(i.followers_count)]});return a.hattaStats.graph={},a.hattaStats.graph.series=[""],a.hattaStats.graph.data=e}}(this)),e.getStats("40580714",j,k).then(function(){return function(b){var c,d,e,h,i,j;a.prabowoStats=b,e=[],j=a.prabowoStats.statistic;for(c in j)i=j[c],h=g.preprocessDate(c,""),d=f(h),e.push({x:g.applyTimezone(d).format("DD/MM"),y:[parseInt(i.followers_count)]});return a.prabowoStats.graph={},a.prabowoStats.graph.series=[""],a.prabowoStats.graph.data=e,a.praHattaStats=a.prabowoStats}}(this)),e.getStats("366987179",j,k).then(function(){return function(b){return a.jokowiStats=b}}(this)),e.getStats("903172238",j,k).then(function(){return function(b){return a.jkStats=b}}(this))},n=function(b){var c;return c="",c=b.indexOf("twitter.co")>=0?a.twitterIcon:b.indexOf("facebook.co")>=0?a.facebookIcon:b.indexOf("youtube.co")>=0?a.youtubeIcon:b.indexOf("plus.google.co")>=0?a.googleplus:b.indexOf("path.co")>=0?a.pathIcon:b.indexOf("tumblr.co")>=0?a.tumblrIcon:b.indexOf("instagram.co")>=0?a.instagramIcon:a.newsIcon},m=function(a){var b;return b=[],b.push(a[a.length-1].y[0]>a[a.length-2].y[0]?"#32cd32":a[a.length-1].y[0]===a[a.length-2].y[0]?"#778899":"#ff4500"),b},o(),p()}])}.call(this),function(){"use strict";angular.module("clientApp").controller("AboutCtrl",["$scope","$location","$routeParams",function(a,b,c){return a.projectId=c.projectId}])}.call(this),function(){"use strict";var a;a=function(){function a(a,b){a.isActive=function(a){return a===b.path()?!0:void 0}}return a}(),angular.module("clientApp").controller("IndexCtrl",["$scope","$location",a])}.call(this),function(){"use strict";var a;a=function(){function a(a,b,c){var d;this.$log=a,this.candidatePromises=b,this.$scope=c,d=function(a){return function(){return a.candidatePromises.getPromises("jw").then(function(b){return a.jwPromises=b}),a.candidatePromises.getPromises("jk").then(function(b){return a.jkPromises=b}),a.candidatePromises.getPromises("ps").then(function(b){return a.psPromises=b}),a.candidatePromises.getPromises("hr").then(function(b){return a.hrPromises=b})}}(this),d(),this.$scope.sticky="sticky"}return a}(),angular.module("clientApp").controller("FactsCtrl",["$log","candidatePromises","$scope",a])}.call(this),function(){"use strict";angular.module("clientApp").service("candidatePromises",["$http","globalService",function(a,b){var c;return c=b.getCandidateUrl(),{get:function(){return a.get(c).then(function(a){return a.data})},getPromises:function(b){return a.get(""+c+"&id_calon="+b).then(function(a){return a.data})}}}])}.call(this),function(){"use strict";angular.module("clientApp").directive("barsChart",function(){return{restrict:"E",scope:{data:"="},link:function(a,b){var c,d,e,f;return f=400,e=200,c=d3.select(b[0]).append("svg:svg").attr("width","100%").attr("height",e+30).attr("class","chart"),a.$watch("data",function(a){return null!=a?(c.selectAll("*").remove(),d(a)):void 0}),window.onresize=function(){return a.$apply()},a.$watch(function(){return angular.element(window)[0].innerWidth},function(){return"undefined"!=typeof data&&null!==data?(c.selectAll("*").remove(),d(data)):void 0}),d=function(d){var g,h,i,j,k,l;return g=f/(d.length+1),k=d3.scale.linear().domain([0,d.length]).range([0,f]),l=d3.scale.linear().domain([0,d3.max(d)]).rangeRound([0,e]),j=d3.select(b[0])[0][0].offsetWidth-20,h=35*a.data.length,i=98,c.selectAll("rect").data(d).enter().append("svg:rect").attr("x",30).attr("y",function(a,b){return 35*b}).attr("height",30).attr("width",0).attr("fill","#192531").transition().duration(1e3).attr("width",function(a){return a+"%"}),c.selectAll("text").data(d).enter().append("svg:text").attr("fill","#fff").attr("y",function(a,b){return 35*b+22}).attr("x",35).text(function(a){return a}),c.selectAll("textX").data(d).enter().append("svg:text").attr("fill","#fff").attr("y",function(a,b){return 35*b+22}).attr("x",0).text(function(a,b){return 30*(b+1)})}}}}),angular.module("clientApp").directive("sticky",["$window",function(a){return{link:function(b,c,d){var e,f,g;return e=angular.element(a),void 0===b._stickyElements&&(b._stickyElements=[],e.bind("scroll.sticky",function(){var a,c,d,f;for(d=e.scrollTop(),a=0,f=[];a<b._stickyElements.length;)c=b._stickyElements[a],!c.isStuck&&d>c.start?(c.element.addClass("stuck"),c.isStuck=!0,c.placeholder&&(c.placeholder=angular.element("<div></div>").css({height:c.element.outerHeight()+"px"}).insertBefore(c.element))):c.isStuck&&d<c.start&&(c.element.removeClass("stuck"),c.isStuck=!1,c.placeholder&&(c.placeholder.remove(),c.placeholder=!0)),f.push(a++);return f}),g=function(){var a,c,d;for(a=0,d=[];a<b._stickyElements.length;)c=b._stickyElements[a],c.isStuck?c.placeholder&&(c.start=c.placeholder.offset().top):c.start=c.element.offset().top,d.push(a++);return d},e.bind("load",g),e.bind("resize",g)),f={element:c,isStuck:!1,placeholder:void 0!==d.usePlaceholder,start:c.offset().top},b._stickyElements.push(f)}}}])}.call(this),function(){"use strict";angular.module("clientApp").service("globalService",function(){var a,b,c,d,e;return c="http://54.254.146.99/",a="927d12ca61b653468f60316514f2bb9e",b="http://api.pemiluapi.org/calonpresiden/api/promises?apiKey="+a,d="http://api.pemiluapi.org/stamps/api/stamps?apiKey="+a,e="http://api.pemiluapi.org/socmedpemilu?apiKey="+a+"&r=user/statistic",{getServerBaseUrl:function(){return c},getAppKey:function(){return a},getCandidateUrl:function(){return b},getStampUrl:function(){return d},getStatsTwitUrl:function(){return e}}})}.call(this),function(){"use strict";var a;a=function(){function a(a,b,c){this.$q=a,this.$log=b,this.$http=c}var b,c;return c="http://54.254.146.99/home",b="https://api.twitter.com/1/statuses/oembed.json",a.prototype.get=function(){return this.$http.get(c).then(function(a){return a.data})},a.prototype.getData=function(a){return this.$http.get(""+c+"&id_calon="+a).then(function(a){return a.data})},a.prototype.getStatusTwitter=function(a){var c;return c=this.$q.defer(),this.$http.jsonp(""+b+"?id="+a+"&callback=jsonpCallback"),c.promise},a}(),angular.module("clientApp").service("homeService",["$q","$log","$http","globalService",a])}.call(this),function(){"use strict";angular.module("clientApp").service("stampService",["$http","globalService",function(a,b){var c;return c=b.getStampUrl(),{get:function(){return a.get(c).then(function(a){return a.data})},getStamp:function(b){return a.get(""+c+"&tags="+b).then(function(a){return a.data})}}}])}.call(this),function(){"use strict";angular.module("clientApp").service("socialAnalyticService",["$http","globalService",function(a,b){var c;return c=b.getStatsTwitUrl(),{get:function(){return a.get(c).then(function(a){return a.data})},getStats:function(b,d,e){return a.get(""+c+"&user_id="+b+"&start_date="+d+"&end_date="+e).then(function(a){return a.data})}}}])}.call(this),function(){"use strict";angular.module("clientApp").filter("cutWord",function(){return function(a,b,c,d){var e;return a?(c=parseInt(c,10))?a.length<=c?a:(a=a.substr(0,c),b&&(e=a.lastIndexOf(" "),-1!==e&&(a=a.substr(0,e))),a+(d||" …")):a:""}})}.call(this),function(){"use strict";angular.module("clientApp").filter("repeatRange",function(){})}.call(this),function(){"use strict";angular.module("clientApp").controller("WcloudCtrl",["$scope",function(a){return a.words=[{word:"Dimas",size:4},{word:"Joko",size:3},{word:"Bambang",size:2},{word:"Bambang",size:5}],a.type="cloud",a.sort="asc"}])}.call(this);